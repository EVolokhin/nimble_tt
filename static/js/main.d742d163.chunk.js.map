{"version":3,"sources":["style/icons/pause_circle_outline-black-48dp.svg","style/icons/play_circle_outline-black-48dp.svg","style/icons/highlight_off-black-48dp.svg","components/timer.jsx","style/icons/play_circle_filled-black-48dp.svg","App.jsx","components/localStorage.js","index.jsx"],"names":["Timer","name","time","active","start","id","deleteTimer","useState","timer","setTimer","intervalRef","useRef","startTimer","prev","moment","timeCounter","setInterval","current","useEffect","clearInterval","className","seconds","duration","hours","Math","floor","asHours","utc","format","convertTime","type","onClick","src","playPic","alt","pausePic","deletePic","App","key","initialValue","localStorage","getItem","JSON","parse","setItem","stringify","value","setValue","newValue","useLocalStorage","timersList","setTimersList","timerName","setTimerName","addTimer","newTimer","String","deleteIndex","findIndex","timerObj","newList","splice","onChange","event","target","onKeyPress","addPic","map","ind","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAAe,MAA0B,4DCA1B,MAA0B,2DCA1B,MAA0B,qDCO5BA,EAAQ,SAAC,GAOf,IANLC,EAMI,EANJA,KACAC,EAKI,EALJA,KACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,GACAC,EACI,EADJA,YACI,EACsBC,mBAAS,CACjCN,OACAC,OACAC,SACAC,QACAC,OANE,mBACGG,EADH,KACUC,EADV,KAUEC,EAAcC,mBAEdC,EAAa,WACjBH,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXT,MAAOU,MAAWD,EAAKX,UAGzB,IAAMa,EAAcC,aAAY,WAC9BP,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXX,KAAMY,MAAWD,EAAKT,MACtBD,QAAQ,SAET,KAEHO,EAAYO,QAAUF,GAIxBG,qBAAU,WAIR,OAHAN,IAGO,WACLO,cAAcT,EAAYO,YAE3B,IAoBH,OACE,sBAAKG,UAAU,QAAf,UACE,uCACMZ,EAAMP,KADZ,aAXgB,WAClB,IAAMoB,EAAUP,IAAOQ,SAASd,EAAMN,KAAM,gBACtCqB,EAASC,KAAKC,MAAMJ,EAAQK,WAAa,GAAjC,WACNF,KAAKC,MAAMJ,EAAQK,YACvBF,KAAKC,MAAMJ,EAAQK,WAEvB,MAAM,GAAN,OAAUH,EAAV,YAAmBT,IAAOa,IAAInB,EAAMN,MAAM0B,OAAO,UAM1BC,OAGnBrB,EAAML,QAEN,wBACE2B,KAAK,SACLC,QAASnB,EAFX,SAIE,qBAAKoB,IAAKC,EAASC,IAAI,YAI1B1B,EAAML,QAEL,wBACE2B,KAAK,SACLC,QAtCU,WAChBZ,cAAcT,EAAYO,SAC1BR,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXV,QAAQ,QAgCN,SAIE,qBAAK6B,IAAKG,EAAUD,IAAI,YAI5B,wBACEJ,KAAK,SACLC,QAAS,kBAAMzB,EAAYD,IAF7B,SAIE,qBAAK2B,IAAKI,EAAWF,IAAI,iBCrGlB,MAA0B,0DCW5BG,G,MAAM,WAAO,IAAD,ECTM,SAACC,GAC9B,IAAIC,EAAeC,aAAaC,QAAQH,GACpCI,KAAKC,MAAMH,aAAaC,QAAQH,IAChC,GAEJE,aAAaI,QAAQN,EAAKI,KAAKG,UAAUN,IALH,MAOZhC,mBAASgC,GAPG,mBAO/BO,EAP+B,KAOxBC,EAPwB,KAetC,MAAO,CAACD,EANS,SAACE,GAChBD,EAASC,GACTT,EAAeS,EACfR,aAAaI,QAAQN,EAAKI,KAAKG,UAAUN,MDFPU,CAAgB,cAD7B,mBAChBC,EADgB,KACJC,EADI,OAEW5C,mBAAS,IAFpB,mBAEhB6C,EAFgB,KAELC,EAFK,KAQjBC,EAAW,WACf,IAAMC,EAAW,CACftD,KAAMmD,GAAaI,QAAQ1C,OAC3BZ,KAAM,EACNC,QAAQ,EACRC,OAAQU,MAERT,IAAKS,OAGPqC,EAAc,CAACI,GAAF,mBAAeL,KAC5BG,EAAa,KAGT/C,EAAc,SAACD,GACnB,IAAMoD,EAAcP,EAAWQ,WAAU,SAAAC,GAAQ,OAAIA,EAAStD,KAAOA,KAC/DuD,EAAO,YAAOV,GAEpBU,EAAQC,OAAOJ,EAAa,GAE5BN,EAAcS,IAShB,OACE,gCACE,uBACE9B,KAAK,OACLgB,MAAOM,EACPU,SAtCa,SAACC,GAClBV,EAAaU,EAAMC,OAAOlB,QAsCtBmB,WAZU,SAACF,GACG,UAAdA,EAAMzB,KACRgB,OAYA,wBACExB,KAAK,SACLC,QAASuB,EAFX,SAIE,qBAAKtB,IAAKkC,EAAQhC,IAAI,gBAGvBgB,EAAWiB,KAAI,SAACR,EAAUS,GAAS,IAEhCnE,EAKE0D,EALF1D,KACAC,EAIEyD,EAJFzD,KACAC,EAGEwD,EAHFxD,OACAC,EAEEuD,EAFFvD,MACAC,EACEsD,EADFtD,GAGF,OACE,cAAC,EAAD,CACEJ,KAAMA,EACNC,KAAMA,EACNC,OAAQA,EACRC,MAAOA,EACPC,GAAIA,EACJC,YAAaA,GACRD,WE3EjBgE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d742d163.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pause_circle_outline-black-48dp.7a13eaea.svg\";","export default __webpack_public_path__ + \"static/media/play_circle_outline-black-48dp.9a7adb4d.svg\";","export default __webpack_public_path__ + \"static/media/highlight_off-black-48dp.cd9434e4.svg\";","import React, { useEffect, useRef, useState } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport pausePic from '../style/icons/pause_circle_outline-black-48dp.svg';\nimport playPic from '../style/icons/play_circle_outline-black-48dp.svg';\nimport deletePic from '../style/icons/highlight_off-black-48dp.svg';\n\nexport const Timer = ({\n  name,\n  time,\n  active,\n  start,\n  id,\n  deleteTimer,\n}) => {\n  const [timer, setTimer] = useState({\n    name,\n    time,\n    active,\n    start,\n    id,\n  });\n\n  // for ability to clear Interval\n  const intervalRef = useRef();\n\n  const startTimer = () => {\n    setTimer(prev => ({\n      ...prev,\n      start: moment() - prev.time,\n    }));\n\n    const timeCounter = setInterval(() => {\n      setTimer(prev => ({\n        ...prev,\n        time: moment() - prev.start,\n        active: true,\n      }));\n    }, 1000);\n\n    intervalRef.current = timeCounter;\n  };\n\n  // for launching timer after creation and first render\n  useEffect(() => {\n    startTimer();\n\n    // for cancel the timer (setTimer) when component unmounted\n    return function cleanup() {\n      clearInterval(intervalRef.current);\n    };\n  }, []);\n\n  const stopTimer = () => {\n    clearInterval(intervalRef.current);\n    setTimer(prev => ({\n      ...prev,\n      active: false,\n    }));\n  };\n\n  // for shoving hours in time more than 24\n  const convertTime = () => {\n    const seconds = moment.duration(timer.time, 'milliseconds');\n    const hours = (Math.floor(seconds.asHours()) < 10)\n      ? `0${Math.floor(seconds.asHours())}`\n      : Math.floor(seconds.asHours());\n\n    return `${hours}:${moment.utc(timer.time).format('mm:ss')}`;\n  };\n\n  return (\n    <div className=\"timer\">\n      <h3>\n        {`${timer.name}: ${convertTime()}`}\n      </h3>\n\n      {!timer.active\n      && (\n        <button\n          type=\"button\"\n          onClick={startTimer}\n        >\n          <img src={playPic} alt=\"start\" />\n        </button>\n      )}\n\n      {timer.active\n      && (\n        <button\n          type=\"button\"\n          onClick={stopTimer}\n        >\n          <img src={pausePic} alt=\"pause\" />\n        </button>\n      )}\n\n      <button\n        type=\"button\"\n        onClick={() => deleteTimer(id)}\n      >\n        <img src={deletePic} alt=\"delete\" />\n      </button>\n    </div>\n  );\n};\n\nTimer.propTypes = {\n  name: PropTypes.string.isRequired,\n  time: PropTypes.number.isRequired,\n  active: PropTypes.bool.isRequired,\n  start: PropTypes.number.isRequired,\n  id: PropTypes.number.isRequired,\n  deleteTimer: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/play_circle_filled-black-48dp.60afd989.svg\";","/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\n\nimport React, { useState } from 'react';\nimport moment from 'moment';\nimport { Timer } from './components/timer';\nimport addPic from './style/icons/play_circle_filled-black-48dp.svg';\nimport { useLocalStorage } from './components/localStorage';\nimport './App.scss';\n\nexport const App = () => {\n  const [timersList, setTimersList] = useLocalStorage('timersList');\n  const [timerName, setTimerName] = useState('');\n\n  const handleName = (event) => {\n    setTimerName(event.target.value);\n  };\n\n  const addTimer = () => {\n    const newTimer = {\n      name: timerName || String(+moment()),\n      time: 0,\n      active: true,\n      start: +moment(),\n      // start: 0,\n      id: +moment(),\n    };\n\n    setTimersList([newTimer, ...timersList]);\n    setTimerName('');\n  };\n\n  const deleteTimer = (id) => {\n    const deleteIndex = timersList.findIndex(timerObj => timerObj.id === id);\n    const newList = [...timersList];\n\n    newList.splice(deleteIndex, 1);\n\n    setTimersList(newList);\n  };\n\n  const onEnter = (event) => {\n    if (event.key === 'Enter') {\n      addTimer();\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={timerName}\n        onChange={handleName}\n        onKeyPress={onEnter}\n      />\n      <button\n        type=\"button\"\n        onClick={addTimer}\n      >\n        <img src={addPic} alt=\"add timer\" />\n      </button>\n\n      {timersList.map((timerObj, ind) => {\n        const {\n          name,\n          time,\n          active,\n          start,\n          id,\n        } = timerObj;\n\n        return (\n          <Timer\n            name={name}\n            time={time}\n            active={active}\n            start={start}\n            id={id}\n            deleteTimer={deleteTimer}\n            key={id}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import { useState } from 'react';\n\nexport const useLocalStorage = (key) => {\n  let initialValue = localStorage.getItem(key)\n    ? JSON.parse(localStorage.getItem(key))\n    : [];\n\n  localStorage.setItem(key, JSON.stringify(initialValue));\n\n  const [value, setValue] = useState(initialValue);\n\n  const addValue = (newValue) => {\n    setValue(newValue);\n    initialValue = newValue;\n    localStorage.setItem(key, JSON.stringify(initialValue));\n  };\n\n  return [value, addValue];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}